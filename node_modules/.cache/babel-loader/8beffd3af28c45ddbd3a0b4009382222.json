{"ast":null,"code":"import _classCallCheck from \"/Users/erboland/Desktop/Projects Simple Services/code/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erboland/Desktop/Projects Simple Services/code/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erboland/Desktop/Projects Simple Services/code/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erboland/Desktop/Projects Simple Services/code/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erboland/Desktop/Projects Simple Services/code/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erboland/Desktop/Projects Simple Services/code/src/pages/HomePage/layouts/Desktop/Desktop.js\";\nimport React, { Component } from \"react\";\nimport { StyleSheet, css } from \"aphrodite\";\nimport { fadeIn } from \"react-animations\";\nimport { Welcome, Dates, Clients, Brands, Loader } from \"./components\";\nimport disableScroll from \"disable-scroll\";\n\nvar Desktop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Desktop, _Component);\n\n  function Desktop() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Desktop);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Desktop)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isLoaderVisible: false\n    };\n\n    _this.detectBlackEl = function () {\n      var scrollTop = window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n      var body = document.body,\n          html = document.documentElement;\n      var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      var calc = scrollTop * 100 / height;\n\n      _this.props.handleHalfColor(calc);\n    };\n\n    _this.componentDidMount = function () {\n      window.addEventListener(\"scroll\", _this.detectBlackEl);\n\n      _this.runOnceADay();\n    };\n\n    _this.componentWillUnmount = function () {\n      window.removeEventListener(\"scroll\", _this.detectBlackEl);\n      disableScroll.off();\n    };\n\n    _this.stopAnimation = function () {\n      _this.setState({\n        isLoaderVisible: false\n      }, function () {\n        disableScroll.off();\n      });\n    };\n\n    _this.runOnceADay = function () {\n      var a = _this.hasOneDayPassed();\n\n      if (a) {\n        disableScroll.on();\n\n        _this.setState({\n          isLoaderVisible: true\n        });\n      }\n\n      return false;\n    };\n\n    _this.hasOneDayPassed = function () {\n      var date = new Date().toLocaleDateString();\n\n      if (localStorage.getItem(\"home_app_date\") === date) {\n        //localstorage date is equal to today !=> animation\n        return false;\n      } else {\n        //localstorage date doesn't equal to today => animation\n        localStorage.setItem(\"home_app_date\", date);\n        return true;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Desktop, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.state.isLoaderVisible && React.createElement(Loader, {\n        stopAnimation: this.stopAnimation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"\".concat(css(styles.fadeIn), \" \").concat(css(styles.fullPage)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Welcome, {\n        lang: this.props.lang,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Dates, {\n        lang: this.props.lang,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Clients, {\n        lang: this.props.lang,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Brands, {\n        lang: this.props.lang,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Desktop;\n}(Component);\n\nexport { Desktop as default };\nvar styles = StyleSheet.create({\n  fadeIn: {\n    animationName: fadeIn,\n    animationDuration: \"2s\"\n  },\n  fullPage: {\n    height: \"100%\",\n    position: \"relative\",\n    zIndex: -100\n  }\n});","map":{"version":3,"sources":["/Users/erboland/Desktop/Projects Simple Services/code/src/pages/HomePage/layouts/Desktop/Desktop.js"],"names":["React","Component","StyleSheet","css","fadeIn","Welcome","Dates","Clients","Brands","Loader","disableScroll","Desktop","state","isLoaderVisible","detectBlackEl","scrollTop","window","pageYOffset","undefined","document","documentElement","body","parentNode","html","height","Math","max","scrollHeight","offsetHeight","clientHeight","calc","props","handleHalfColor","componentDidMount","addEventListener","runOnceADay","componentWillUnmount","removeEventListener","off","stopAnimation","setState","a","hasOneDayPassed","on","date","Date","toLocaleDateString","localStorage","getItem","setItem","styles","fullPage","lang","create","animationName","animationDuration","position","zIndex"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { StyleSheet, css } from \"aphrodite\";\nimport { fadeIn } from \"react-animations\";\nimport { Welcome, Dates, Clients, Brands, Loader } from \"./components\";\nimport disableScroll from \"disable-scroll\";\nexport default class Desktop extends Component {\n  state = {\n    isLoaderVisible: false\n  };\n  detectBlackEl = () => {\n    let scrollTop =\n      window.pageYOffset !== undefined\n        ? window.pageYOffset\n        : (\n            document.documentElement ||\n            document.body.parentNode ||\n            document.body\n          ).scrollTop;\n    let body = document.body,\n      html = document.documentElement;\n    let height = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const calc = (scrollTop * 100) / height;\n    this.props.handleHalfColor(calc);\n  };\n  componentDidMount = () => {\n    window.addEventListener(\"scroll\", this.detectBlackEl);\n    this.runOnceADay()\n\n  };\n  componentWillUnmount = () => {\n    window.removeEventListener(\"scroll\", this.detectBlackEl);\n    disableScroll.off()\n  };\n  stopAnimation = () => {\n    this.setState({ isLoaderVisible: false }, () => {\n      disableScroll.off();\n    });\n  };\n  runOnceADay = () =>{\n    const a = this.hasOneDayPassed()\n    if(a){\n      disableScroll.on()\n      this.setState({isLoaderVisible: true})\n    }\n    return false\n  }\n  hasOneDayPassed = () =>{\n   const date = new Date().toLocaleDateString()\n   if(localStorage.getItem(\"home_app_date\") === date){\n     //localstorage date is equal to today !=> animation\n     return false\n   }\n   else{\n     //localstorage date doesn't equal to today => animation\n    localStorage.setItem(\"home_app_date\", date);\n    return true;\n   }\n  }\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.isLoaderVisible && (\n          <Loader stopAnimation={this.stopAnimation} />\n        )}\n        <div className={`${css(styles.fadeIn)} ${css(styles.fullPage)}`}>\n          <Welcome lang={this.props.lang} />\n          <Dates lang={this.props.lang} />\n          <Clients lang={this.props.lang} />\n          <Brands lang={this.props.lang} />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\nconst styles = StyleSheet.create({\n  fadeIn: {\n    animationName: fadeIn,\n    animationDuration: \"2s\"\n  },\n  fullPage: {\n    height: \"100%\",\n    position: \"relative\",\n    zIndex: -100\n  }\n});\n"]},"metadata":{},"sourceType":"module"}